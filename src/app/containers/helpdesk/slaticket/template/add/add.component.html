<h5 class="m-b-10 ng-star-inserted">{{'helpdesk.template.slaadd'|translate}}

</h5>

<ul class="breadcrumb p-0">
    <li class="breadcrumb-item"><a href="javascript:"><i class="feather icon-home"></i></a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{'helpdesk.template.helpdesk'|translate}}</a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{'helpdesk.template.sla'|translate}}</a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{'helpdesk.template.template'|translate}}</a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{'helpdesk.common.add'|translate}}</a></li>
</ul>


<div class="row">

    <div class="col-xl-12">
        <form [formGroup]="newFormGroup" autocomplete="off">
            <app-card cardTitle="{{'helpdesk.template.templatesearch'|translate}}" class="list-panel add-panel">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.templatetype'|translate}}</label>
                            <select id="category" class="form-control" formControlName="templatetype">
                                <option value="">{{'helpdesk.common.select'|translate}}</option>
                                <option>SMS</option>
                                <option>EMAIL</option>
                                <option>BOTH</option>
                            </select>
                            <div *ngIf="formSubmitted && newFormGroup.get('templatetype').errors || newFormGroup.get('templatetype').touched" class="error-msg">
                                <span *ngIf="newFormGroup.get('templatetype').errors?.required">
                                   {{'helpdesk.template.templatetypereq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.templatename'|translate}}</label>
                            <input type="text" class="form-control" appInputRestriction placeholder="{{'helpdesk.template.entertemplatename'|translate}}" formControlName="templatename">
                            <div *ngIf="formSubmitted && newFormGroup.get('templatename').errors || newFormGroup.get('templatename').touched" class="error-msg">
                                <span *ngIf="newFormGroup.get('templatename').errors?.required">
                                    {{'helpdesk.template.templatenamereq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>
                </div>
            </app-card>
        </form>

    </div>

</div>

<div class="row">
    <div class="col-xl-12" *ngIf="this.newFormGroup.value.templatetype=='EMAIL' ||this.newFormGroup.value.templatetype=='BOTH'">
        <form [formGroup]="emailFormGroup" autocomplete="off">
            <app-card cardTitle="{{'helpdesk.template.emailtemplate'|translate}}" blockClass="table-border-style" class="list-panel add-panel">

                <div class="row">

                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.subject'|translate}}</label>
                            <input type="text" class="form-control" appInputRestriction placeholder="{{'helpdesk.template.subject'|translate}}" formControlName="esubject">
                            <div *ngIf="emailSubmitted && emailFormGroup.get('esubject').errors || emailFormGroup.get('esubject').touched" class="error-msg">
                                <span *ngIf="emailFormGroup.get('esubject').errors?.required">
                                    {{'helpdesk.template.subjectreq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.fromaddress'|translate}}</label>
                            <textarea class="form-control" placeholder="{{'helpdesk.template.enterfromaddress'|translate}}" rows="1" formControlName="etoaddress"></textarea> {{'helpdesk.template.160charectersrem'|translate}}
                            <div *ngIf="emailSubmitted && emailFormGroup.get('etoaddress').errors || emailFormGroup.get('etoaddress').touched" class="error-msg">
                                <span *ngIf="emailFormGroup.get('etoaddress').errors?.required">
                                    {{'helpdesk.template.fromaddressreq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.toaddress'|translate}}</label>
                            <textarea class="form-control" placeholder="{{'helpdesk.template.entertoaddress'|translate}}" rows="1" formControlName="efromaddress"></textarea> {{'helpdesk.template.160charectersrem'|translate}}
                            <div *ngIf="emailSubmitted && emailFormGroup.get('efromaddress').errors || emailFormGroup.get('efromaddress').touched" class="error-msg">
                                <span *ngIf="emailFormGroup.get('efromaddress').errors?.required">
                                    {{'helpdesk.template.toaddressreq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.description'|translate}}</label>
                            <textarea class="form-control" placeholder="{{'helpdesk.template.enterdesc'|translate}}" rows="3" formControlName="edesc"></textarea> {{'helpdesk.template.160charectersrem'|translate}}
                            <div *ngIf="emailSubmitted && emailFormGroup.get('edesc').errors || emailFormGroup.get('edesc').touched" class="error-msg">
                                <span *ngIf="emailFormGroup.get('edesc').errors?.required">
                                    {{'helpdesk.template.descriptionreq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>


                    <!-- <div class="col-lg-6 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>Select Template</label>
    
                            <select id="category" class="form-control">
                                <option>SMS</option>
                                <option>Email</option>
                            </select>
                        </div>
                    </div> -->

                    <!-- <div class="col-lg-6 col-md-6 col-sm-12 col-12  text-right">
                        <button class="btn btn-primary mt-4">
                            <i class="feather icon-plus"></i>
                            Add Key</button>
                    </div> -->
                </div>
            </app-card>
        </form>

        <div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="this.newFormGroup.value.templatetype=='EMAIL'">
            <div class="form-group  text-right ">
                <button class="btn btn-primary m-r-5" (click)="saveall('temp','email','')">
                    {{'helpdesk.common.submit'|translate}}
                </button>
                <button class="btn btn-secondary" routerLink="/helpdesk/sla/template/list">
                    {{'helpdesk.common.cancel'|translate}}
                </button>
            </div>
        </div>
    </div>
    <!-- <div class="col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="form-group  text-right ">

            <button class="btn btn-primary m-r-5" routerLink="/helpdesk/sla">
                Submit
            </button>
            <button class="btn btn-secondary" routerLink="/helpdesk/sla/sms">
                Back
            </button>
        </div>

    </div> -->
</div>

<div class="row">
    <div class="col-xl-12" *ngIf="this.newFormGroup.value.templatetype=='SMS'||this.newFormGroup.value.templatetype=='BOTH'">
        <form [formGroup]="smsFormGroup" autocomplete="off">
            <app-card cardTitle="SMS Template" blockClass="table-border-style" class="list-panel add-panel">

                <div class="row">

                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.mobilenumber'|translate}}</label>
                            <input type="text" class="form-control" placeholder="{{'helpdesk.template.mobilenumber'|translate}}" maxlength="10" formControlName="mobileno" (keypress)="numberOnly($event)">
                            <div *ngIf="smsSubmitted && smsFormGroup.get('mobileno').errors || smsFormGroup.get('mobileno').touched" class="error-msg">
                                <span *ngIf="smsFormGroup.get('mobileno').errors?.required">
                                    {{'helpdesk.template.mobilenumberreq'|translate}}
                                        </span>
                                <!-- <div *ngIf="mobileno.errors.pattern">
                                    Mobile number not valid.
                                </div> -->
                                <!-- <div *ngIf="smsFormGroup.get('mobileno').errors.pattern">
                                    Mobile Number not valid.
                                </div> -->
                            </div>
                            <div *ngIf="f.mobileno.touched && f.mobileno.invalid" class="error-msg">
                                <!-- <div *ngIf="f.mobileno.errors.required">Number is required.</div> -->
                                <div *ngIf="f.mobileno.errors.pattern">Enter only number.</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{'helpdesk.template.message'|translate}}</label>
                            <textarea class="form-control" placeholder="{{'helpdesk.template.entermessage'|translate}}" rows="1" formControlName="message"></textarea> {{'helpdesk.template.160charectersrem'|translate}}
                            <div *ngIf="smsSubmitted && smsFormGroup.get('message').errors || smsFormGroup.get('message').touched" class="error-msg">
                                <span *ngIf="smsFormGroup.get('message').errors?.required">
                                    {{'helpdesk.template.messagereq'|translate}}
                                        </span>
                            </div>
                        </div>
                    </div>



                    <!-- <div class="col-lg-6 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>Select Template</label>
    
                            <select id="category" class="form-control">
                                <option>SMS</option>
                                <option>Email</option>
                            </select>
                        </div>
                    </div> -->
           
                    <!-- <div class="col-lg-6 col-md-6 col-sm-12 col-12  text-right">
                        <button class="btn btn-primary mt-4">
                            <i class="feather icon-plus"></i>
                            Add Key</button>
                    </div> -->
                </div>
            </app-card>
        </form>

    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="this.newFormGroup.value.templatetype=='SMS'">
        <div class="form-group  text-right ">
            <button class="btn btn-primary m-r-5" (click)="saveall('temp','sms','')">
                {{'helpdesk.common.submit'|translate}}
            </button>
            <button class="btn btn-secondary" routerLink="/helpdesk/sla/template/list">
                {{'helpdesk.common.cancel'|translate}}
            </button>
        </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="this.newFormGroup.value.templatetype=='BOTH'">
        <div class="form-group  text-right ">
            <button class="btn btn-primary m-r-5" (click)="saveall('temp','sms','email')">
                {{'helpdesk.common.submit'|translate}}
            </button>
            <button class="btn btn-secondary" routerLink="/helpdesk/sla/template/list">
                {{'helpdesk.common.cancel'|translate}}
            </button>
        </div>
    </div>

</div>