<h5 class="m-b-10 ng-star-inserted">{{ 'wholesale.orderpickupdetails.orderpickup' | translate}}
    <!-- <button type="submit" class="btn btn-success custom_add_button pull-right"
    routerLink="/supplychainmanagement/wholesale/orderpickup/add">
    <i class="feather icon-plus mr-2"></i>
    Add Order Pick-Up
</button> -->
</h5>
<ul class="breadcrumb p-0">
    <li class="breadcrumb-item"><a href="javascript:"><i class="feather icon-home"></i></a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{ 'wholesale.stockinhand.wholesale' | translate}}</a></li>
    <li class="breadcrumb-item"><a href="javascript:">{{ 'wholesale.orderpickupdetails.orderpickup' | translate}}</a></li>
    <li class="breadcrumb-item">{{ 'master.common.list' | translate}}</li>
</ul>

<div class="row">
    <div class="col-xl-12">
        <app-card cardTitle="{{ 'wholesale.orderpickupdetails.searchby' | translate}}" class=" search-panel">
            <form #orderform='ngForm'>
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{ 'wholesale.orderpickupdetails.indentdate' | translate}}</label>
                            <input type="date" name="orderdate" #orderdate="ngModel" [(ngModel)]=orderlistObj.orderdate
                                class="form-control" />
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{ 'wholesale.orderpickupdetails.indentnumber' | translate}}</label>
                            <input type="text" name='indentnum' #indentnum="ngModel"
                                [(ngModel)]="orderlistObj['indentnum']" class="form-control"
                                placeholder="{{ 'wholesale.orderpickupdetails.enterno' | translate}}" />
                        </div>
                    </div>
                    <!-- <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                    <div class="form-group">
                        <label>Indent Date</label>
                        <input type="date"  class="form-control" 
                        placeholder="Enter Sub-Indent Number"/>                      
                    </div>
                </div>  -->
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{ 'wholesale.orderpickupdetails.unitname' | translate}}</label>
                            <input type="text" name='unitname' #unitname="ngModel"
                                [(ngModel)]="orderlistObj['unitname']" class="form-control"
                                placeholder="{{ 'wholesale.orderpickupdetails.enterunitname' | translate}}" />
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-6 col-12">
                        <div class="form-group">
                            <label>{{ 'wholesale.orderpickupdetails.status' | translate}}</label>
                            <select name='statuss' #statuss="ngModel"  (change)="changestatus(orderlistObj['statuss'])" [(ngModel)]="orderlistObj['statuss']"
                                class="form-control">
                                <option value="">{{ 'usermanagement.common.select' | translate }}</option>
                                <option value='pending'>PENDING</option>
                                <option value='inprogress'>INPROGRESS</option>
                                <option value='completed'>COMPLETED</option>

                            </select>
                        </div>
                    </div>

                    <div class="col-12 text-right">
                        <button (click)="getlist()" class="btn btn-primary mr-2">{{'master.common.search' | translate}}</button>
                        <button (click)="clearform()" class="btn btn-secondary">{{'master.common.cancel' | translate}}</button>
                    </div>
                </div>
            </form>
        </app-card>
        <!-- <app-card cardTitle="Order Pick-Up List" class="list-panel">
            <div class="row">
                <div class="col-12">                    
                            
                                    <div class="table-responsive">
                                        <table class="table table-bordered text-center">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Indent Date</th>
                                                    <th>Indent Number</th>
                                                    <th>Unit Name</th>
                                                    <th>Requested Cases </th>
                                                    <th>Requested Bottles </th>
                                                    <th>Status</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let order of orderslist;let i=index">
                                                    <td>{{i+1}}</td>
                                                    <td>{{order.createdDate}}</td>
                                                    <td class="text-center">
                                                        {{order.indentNo}}
                                                    </td>
                                                   
                                                    <td class="text-left">
                                                        {{order.indentRequest.unitName}}
                                                    </td>
                                                   
                                                    <td class="text-left">
                                                        {{order.indentRequest.totalNoOfCases}}
                                                    </td>
                                                    <td class="text-left">
                                                        {{order.indentRequest.totalNoOfBottles}}
                                                    </td>
                                                    <td class="text-center">
                                                        <span class="badge badge-light-success">{{order.indentRequest.completionStatus}}</span>
                                                    </td>
                                                    <td class="table-action-column text-center">
                                                        <button class="btn btn-icon btn-primary" (click)="view(order.id)"
                                                        >
                                                            <i class="feather icon-eye"></i></button>
                                                            <button class="btn btn-icon btn-secondary ml-2" (click)="edit(order.id)"
                                                            routerLink="/supplychainmanagement/wholesale/orderpickup/add">
                                                                <i class="feather icon-edit-2"></i></button>
                                                    </td>
                                                </tr>
                                                
                                               
                                            </tbody>
                                        </table>
                                    </div>
                                 
                </div>  
            </div>
            <div class="row">
                <div class="col-xl-4 mt-2" >
                    <div ngbDropdown>
                    <button class="btn btn-success" ngbDropdownToggle type="button">Download</button>
                    <div ngbDropdownMenu>
                      <a class="dropdown-item"
                      href="javascript:">Excel</a>
                  <a class="dropdown-item"
                      href="javascript:">PDF</a>
                  <a class="dropdown-item"  href="javascript:">CSV</a>
                    </div>
                </div>
                </div>
               
            </div>
        </app-card> -->







    </div>
</div>
<div class="row">
    <div class="col-xl-12">
        <app-card cardTitle="{{ 'wholesale.orderpickupdetails.orderpickuplist' | translate}}" class="list-panel">
            <ngb-tabset #tabSet="ngbTabset" type="pills" class="mb-2">
                <ngb-tab title="{{ 'wholesale.orderpickupdetails.pending' | translate}}" id="pending">
                    <ng-template ngbTabContent>
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                 <app-mat-normal-table [columns]="pending" [actionKeys]="actionKeyspen" [dataSource]="dataSourcepending"  [actionBtnBasedOnCond] ="actionBtnBasedOnCondPend" 
                                    [totalCount]="totalCountPen" [pageSize]="pageSizePen" (paginationEvent)="handlePagination2($event)"
                                    (editAction)="editt($event)" (viewAction)="view($event)">
                                </app-mat-normal-table>
                                </div>
                                <!-- <div class="table-responsive">
                                    <table class="table table-bordered text-center">
                                        <thead>
                                            <tr>
                                                <th>S.No</th>
                                                <th>Indent Date</th>
                                                <th>Indent Number</th>
                                                <th>Unit Name</th>
                                                <th>Requested Cases </th>
                                                <th>Requested Bottles </th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let records of acceptedorderslist;let i=index">
                                                <td>{{i+1}}</td>
                                                <td>{{records?.indentDate | date:'dd-MM-yyyy'}}</td>
                                                <td>{{records?.indentNo}}</td>
                                                <td>{{records?.unitName}}</td>
                                                <td class="text-left">{{records?.totCasesRequested || 0}}</td>
                                                <td class="text-left">{{records?.totBottlesRequested || 0}}</td>
                                                <td class="text-center">
                                                    <span class="badge badge-light-warning">Pending</span>
                                                </td>
                                                <td class="table-action-column text-center">
                                                  
                                                    <button class="btn btn-icon btn-secondary ml-2" type="button"  (click)="editt(records.indentNo)">
                                                        <i class="feather icon-edit-2"></i></button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div> -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-4">
                                <div ngbDropdown>
                                    <button class="btn btn-success" ngbDropdownToggle type="button">{{'wholesale.common.download' | translate}}</button>
                                    <div ngbDropdownMenu>
                                        <a class="dropdown-item" href="javascript:">Excel</a>
                                        <a class="dropdown-item" href="javascript:">PDF</a>
                                        <a class="dropdown-item" href="javascript:">CSV</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab id="inprogress">
                 <ng-template ngbTabTitle>{{ 'wholesale.orderpickupdetails.inprogress' | translate}}</ng-template>
                    <ng-template ngbTabContent>
                        <div class="row">
                            <div class="col-12">
                                <!-- <div class="table-responsive">
                                    <table class="table table-bordered text-center">
                                        <thead>
                                            <tr>
                                                <th>S.No</th>
                                                <th>Indent Date</th>
                                                <th>Indent Number</th>
                                                <th>Unit Name</th>
                                                <th>Requested Cases </th>
                                                <th>Requested Bottles </th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let records of allDraftorderslist;let i=index">
                                                <td>{{i+1}}</td>
                                                <td>{{records?.indentDate | date:'dd-MM-yyyy'}}</td>
                                                <td>{{records?.indentNo}}</td>
                                                <td>{{records?.unitName}}</td>
                                                <td class="text-left">{{records?.totCasesRequested || 0}}</td>
                                                <td class="text-left">{{records?.totBottlesRequested || 0}}</td>
                                                <td class="text-center" >
                                                    <span class="badge badge-light-success"> {{records?.orderPickUpStatus}}</span>
                                                </td>
                                                <td class="table-action-column text-center">
                                                    <button class="btn btn-icon btn-primary" type="button"
                                                       (click)="view(records.indentNo)">
                                                        <i class="feather icon-eye"></i></button>
                                                    <button class="btn btn-icon btn-secondary ml-2" type="button"  (click)="edit(records.indentNo)">
                                                        <i class="feather icon-edit-2"></i></button>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div> -->
                                <div class="table-responsive">
                                    <app-mat-normal-table [columns]="inprogress" [actionKeys]="actionKeysinrro" [dataSource]="dataSourceinpro"  [actionBtnBasedOnCond] ="actionBtnBasedOnCondinpro" 
                                    [totalCount]="totalCount" [pageSize]="pageSize" (paginationEvent)="handlePagination($event)"
                                    (editAction)="editInpro($event)" (viewAction)="viewInpro($event)">
                                </app-mat-normal-table>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-4">
                                <div ngbDropdown>
                                    <button class="btn btn-success" ngbDropdownToggle type="button">{{'wholesale.common.download' | translate}}</button>
                                    <div ngbDropdownMenu>
                                        <a class="dropdown-item" href="javascript:">Excel</a>
                                        <a class="dropdown-item" href="javascript:">PDF</a>
                                        <a class="dropdown-item" href="javascript:">CSV</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </ng-template>
                </ngb-tab>
                <ngb-tab id="completed">
                    <ng-template ngbTabTitle>{{ 'wholesale.orderpickupdetails.completed' | translate}}</ng-template>
                    <ng-template ngbTabContent>
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                    <app-mat-normal-table [columns]="complete" [actionKeys]="actionKeyscompl" [dataSource]="dataSourcecompleted"  [actionBtnBasedOnCond] ="actionBtnBasedOnCondCompltd" 
                                    [totalCount]="totalCountCompl" [pageSize]="pageSizeCompl" (paginationEvent)="handlePagination1($event)"
                                    (editAction)="edit($event)" (viewAction)="viewCom($event)">
                                </app-mat-normal-table>
                                </div>
                                <!-- <div class="table-responsive">
                                    <table class="table table-bordered text-center">
                                        <thead>
                                            <tr>
                                                <th>S.No</th>
                                                <th>Indent Date</th>
                                                <th>Indent Number</th>
                                                <th>Unit Name</th>
                                                <th>Requested Cases </th>
                                                <th>Requested Bottles </th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let records of submittedorderslist;let i=index">
                                                <td>{{i+1}}</td>
                                                <td>{{records?.indentDate | date:'dd-MM-yyyy'}}</td>
                                                <td>{{records?.indentNo}}</td>
                                                <td>{{records?.unitName}}</td>
                                                <td class="text-left">{{records?.totCasesRequested || 0}}</td>
                                                <td class="text-left">{{records?.totBottlesRequested || 0}}</td>
                                                <td class="text-center">
                                                    <span class="badge badge-light-success"> {{records?.orderPickUpStatus}}</span>
                                                </td>
                                                <td class="table-action-column text-center">
                                                    <button class="btn btn-icon btn-primary" type="button"
                                                       (click)="view(records.indentNo)">
                                                        <i class="feather icon-eye"></i></button>
                                                  
                                                </td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </div> -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-4">
                                <div ngbDropdown>
                                    <button class="btn btn-success" ngbDropdownToggle type="button">{{'wholesale.common.download' | translate}}</button>
                                    <div ngbDropdownMenu>
                                        <a class="dropdown-item" href="javascript:">Excel</a>
                                        <a class="dropdown-item" href="javascript:">PDF</a>
                                        <a class="dropdown-item" href="javascript:">CSV</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </ng-template>
                </ngb-tab>
            </ngb-tabset>
        </app-card>
    </div>
</div>